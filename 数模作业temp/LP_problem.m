clc, clear;
% 习题 1.1
f = [3, -1, -1];
A = [1, -2, 1;
     4, -1, -2];
b = [11;
     -3];
Aeq = [-2 0 1];
beq = 1;


fprintf("习题 1.1\n");
[x, z, exist] = linprog(-f, A, b, Aeq, beq, zeros(3, 1));

if exist == 1
    fprintf("z = %f", -z);
    fprintf("\nX = [ %f, %f, %f ]T\n\n", x(1), x(2), x(3));
else
    fprintf("无解或无界解\n")
end

% 习题 1.2
f = [1, 1, 2, 2, 3, 3, 4, 4];
Aeq = [1, -1, -1, 1, -1, 1, 1, -1;
       1, -1, -1, 1, 1, -1, -3, 3;
       1, -1, -1, 1, -2, 2, 3, -3];
beq = [0;
       1;
       -1/2];
       
fprintf("习题 1.2\n");
[x, z, exist] = linprog(f, [], [], Aeq, beq, zeros(8, 1));

if exist == 1
    fprintf("z = %f", z);
    fprintf("\nX = [ %f, %f, %f, %f ]T\n\n", ...
    x(1) - x(2), ...
    x(3) - x(4), ...
    x(5) - x(6), ...
    x(7) - x(8));
else
    fprintf("无解或无界解\n")
end

% 习题 1.4
f = [3100, 3100, 3100, 3800, 3800, 3800, 3500, 3500, 3500, 2850, 2850, 2850];
A = [
      1,   0,   0,   1,   0,   0,   1,   0,   0,   1,   0,   0;
      0,   1,   0,   0,   1,   0,   0,   1,   0,   0,   1,   0;
      0,   0,   1,   0,   0,   1,   0,   0,   1,   0,   0,   1;
      1,   1,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0;
      0,   0,   0,   1,   1,   1,   0,   0,   0,   0,   0,   0;
      0,   0,   0,   0,   0,   0,   1,   1,   1,   0,   0,   0;
      0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   1;
    480,   0,   0, 650,   0,   0, 580,   0,   0, 390,   0,   0;
      0, 480,   0,   0, 650,   0,   0, 580,   0,   0, 390,   0;
      0,   0, 480,   0,   0, 650,   0,   0, 580,   0,   0, 390;
];

b = [
    10;
    16;
     8;
    18;
    15;
    23;
    12
  6800;
  8700;
  5300;
];

Aeq = [
    16, -10,  0, 16, -10,  0,  16, -10,  0,  16, -10,  0;
     0,  8, -16, 0,  8, -16, 0, 8, -16, 0, 8, -16
];

beq = [0; 0];

fprintf("习题 1.4\n");
[x, z, exist] = linprog(-f, A, b, Aeq, beq, zeros(12, 1));

if exist == 1
    fprintf("z = %f", -z);
    fprintf("\nX = [ %f, %f, %f, %f ]T\n\n", ...
    x(1) + x(2) + x(3), ...
    x(4) + x(5) + x(6), ...
    x(7) + x(8) + x(9), ...
    x(10) + x(11) + x(12));
else
    fprintf("无解或无界解\n")
end
